void 0===window.Mozilla.Analytics&&(window.Mozilla.Analytics={}),function(){"use strict";var e=Mozilla.Analytics,t="querySelector"in document&&"querySelectorAll"in document;e.pageHasDownload=function(){return t&&null!==document.querySelector("[data-download-os]")?"true":"false"},e.pageHasVideo=function(){return!t||null===document.querySelector("video")&&null===document.querySelector('iframe[src^="https://www.youtube"]')?"false":"true"},e.getPageVersion=function(e){var t=e||document.location.pathname,n=/firefox\/(\d+(?:\.\d+)?\.\da?\d?)/.exec(t);return n?n[1]:null},e.getLatestFxVersion=function(){return document.getElementsByTagName("html")[0].getAttribute("data-latest-firefox")},e.getAMOExperiment=function(e){if(Object.prototype.hasOwnProperty.call(e,"experiment")&&Object.prototype.hasOwnProperty.call(e,"variation")){var t=decodeURIComponent(e.experiment),n=decodeURIComponent(e.variation);if(/^\d{8}_amo_.[\w/.%-]{1,50}$/.test(t)&&/^[\w/.%-]{1,50}$/.test(n))return{experiment:t,variation:n}}return null},e.formatFxaDetails=function(e){var t={};if(!0===e.firefox)if(e.mobile)t.FxASegment="Firefox Mobile";else if(e.setup){t.FxALogin=!0,t.FxASegment="Logged in",!0===e.legacy&&(t.FxASegment="Legacy Firefox");var n=e.browserServices.sync?e.browserServices.sync.mobileDevices:null,a=e.browserServices.sync?e.browserServices.sync.desktopDevices:null;t.FxAMobileSync=n>0||0!==n&&"unknown",t.FxAMultiDesktopSync=a>1||1!==a&&0!==a&&"unknown",a>1&&n>0?t.FxASegment="Multi-Desktop and Mobile Sync":1===a&&n>0?t.FxASegment="Desktop and Mobile Sync":a>1&&(t.FxASegment="Multi-Desktop Sync")}else!0===e.legacy?(t.FxASegment="Legacy Firefox",t.FxALogin="unknown"):(t.FxASegment="Not logged in",t.FxALogin=!1);else t.FxASegment="Not Firefox";return t},e.updateDataLayerPush=function(e){var t=window.dataLayer=window.dataLayer||[],n=e||document.location.hostname;t.defaultPush=t.push,t.push=function(){for(var e=0;e<arguments.length;e++)if("gtm.linkClick"===arguments[e].event){var a=arguments[e]["gtm.element"],o=a.href;if(a.hostname===n){var i=o.replace(/^(?:https?:\/\/)(?:[^/])*/,""),r=i.match(/^(\/\w{2}-\w{2}\/|\/\w{2,3}\/)/);i=r?i.replace(r[0],"/"):i,arguments[e].newClickHref=i}else arguments[e].newClickHref=o;t.defaultPush(arguments[e])}else t.defaultPush(arguments[e])}}}(),function(){"use strict";var e=Mozilla.Analytics,t=Mozilla.Client,n=window.dataLayer=window.dataLayer||[],a=!1,o=!1;function i(){var t;a&&o&&(t={event:"core-datalayer-loaded",pageHasDownload:e.pageHasDownload(),pageHasVideo:e.pageHasVideo(),pageVersion:e.getPageVersion(),releaseWindowVersion:e.getLatestFxVersion()},n.push(t))}void 0!==Mozilla.Utils&&Mozilla.Utils.onDocumentReady((function(){if(t.getFxaDetails((function(t){n.push(e.formatFxaDetails(t)),o=!0,i()})),t.isFirefoxDesktop||t.isFirefoxAndroid?t.getFirefoxDetails((function(e){n.push(e),a=!0,i()})):(a=!0,i()),e.updateDataLayerPush(),void 0!==window._SearchParams){var r=(new window._SearchParams).params,l=e.getAMOExperiment(r);l&&n.push({"data-ex-name":l.experiment,"data-ex-variant":l.variation})}}))}();